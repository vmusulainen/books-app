<template name="BookShelf"> {{>Books}} </template>

<template name="Books">
    <h1>Books</h1>
<div>
    <button data-action="subscribe">Subscribe</button>
    <button data-action="unsubscribe">Unsubscribe</button>
</div>

    <fieldset>
        <legend>Pagination</legend>
        <div style="margin-top: 1em; margin-bottom: 1em">
            <span>page: {{pagination.page}}</span>
            <span>page count: {{pagination.page_count}}</span>
            <span>item count: {{pagination.total_item_count}}</span>
        </div>

        <div style="margin-top: 1em; margin-bottom: 1em">
            Items per page: <input id="perPage" data-id="{{subscriptionId}}" value="{{pagination.per_page}}"/>
            <button data-action="prev-page" data-id="{{subscriptionId}}">Prev Page</button>
            <button data-action="next-page" data-id="{{subscriptionId}}">Next Page</button>
        </div>
    </fieldset>
    <br>
    <br>
    <form name="create">
        <fieldset>
            <legend>Create Book</legend>
            <input name="author" type="text" value="author-{{now}}"/>
            <input name="title" type="text" value="title-{{now}}"/>
            <button>Create</button>
        </fieldset>
    </form>
    <br>
    <br>

    {{#each book in books}}
        <div>
            <form name="edit" data-id="{{book._id}}">
                <span style="margin: 0px 10px 0px 0px; width: 500px">{{book._id}}</span>
                <input name="author" type="text" value="{{book.author}}"/>
                <input name="title" type="text" value="{{book.title}}"/>
                <button type="submit">Update</button>
                <button type="button" data-action="delete" data-book-id="{{book._id}}">Delete</button>
            </form>
        </div>
        <br/>
    {{/each}}
</template>
